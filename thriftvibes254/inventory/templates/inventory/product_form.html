{% extends "inventory/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <div class="row g-4">

        <!-- FORM SECTION -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h5 class="fw-bold mb-3">Add Product</h5>

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label class="form-label">Product Name</label>
                            {{ form.name }}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Category</label>
                            {{ form.category }}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Price (KES)</label>
                            {{ form.price }}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Stock Quantity</label>
                            {{ form.quantity }}
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Product Image</label>
                            {{ form.image }}
                        </div>

                        <button type="submit" class="btn btn-dark w-100">
                            Save Product
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- IMAGE PREVIEW -->
        <div class="col-md-6">
            <div cl       src="{% static 'img/placeholder.jpg' %}"
                     class="img-fluid rounded"
                     style="max-height:350px; object-fit:cover;">
            </div>
        </div>

    </div>
</div>

<!-- IMAGE PREVIEW SCRIPT -->
<script>
    const imageInput = document.getElementById("id_image");
    const preview = document.getElementById("previewImage");

    if (imageInput) {
        imageInput.addEventListener("change", function () {
            const file = this.files[0];
            if (file) {
                preview.src = URL.createObjectURL(file);
            }
        });
    }
</script>
<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Save</button>
</form>

{% endblock %}
